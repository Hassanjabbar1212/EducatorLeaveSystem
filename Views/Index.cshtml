@model List<myWebApp.ViewModels.NewFolder.OpeningViewModel>

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.21.0/font/bootstrap-icons.css" rel="stylesheet">
<div class="table-responsive">
    <table class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>Group Name</th>
                <th>Leave Type</th>
                <th>Days</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var i in Model)
            {
                <tr>
                    <td rowspan="@i.LeaveTypes.Count">@i.GroupName</td>
                    @if (i.LeaveTypes.Count > 0)
                    {
                        <td>@i.LeaveTypes[0].TypeName</td>
                        <td>@i.LeaveTypes[0].Days</td>
                        <td role="group">
                            <a href="@Url.Action("Leave_Edit", "Leave", new { id = i.LeaveTypes[0].Id })">
                                <i class="bi bi-pencil"></i> Edit
                            </a>
                            <a href="@Url.Action("Delete", "Leave", new { id = i.LeaveTypes[0].Id })">
                                <i class="bi bi-trash"></i> Delete
                            </a>
                        </td>
                    }
                </tr>
                @for (var j = 1; j < i.LeaveTypes.Count; j++)
                {
                    <tr>
                        <td>@i.LeaveTypes[j].TypeName</td>
                        <td>@i.LeaveTypes[j].Days</td>
                        <td role="group">
                            <a href="@Url.Action("Leave_Edit", "Leave", new { id = i.LeaveTypes[j].Id })">
                                <i class="bi bi-pencil"></i> Edit
                            </a>
                            <a href="@Url.Action("Delete", "Leave", new { id = i.LeaveTypes[j].Id })">
                                <i class="bi bi-trash"></i> Delete
                            </a>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>

    <div class="text-center mt-3">
        <a asp-action="LeaveGroup" asp-controller="Leave" class="btn btn-primary">Leave Group</a>
    </div>
</div>